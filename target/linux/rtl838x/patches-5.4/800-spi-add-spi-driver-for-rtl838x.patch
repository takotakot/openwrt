Index: linux-5.4.24/drivers/spi/Kconfig
===================================================================
--- linux-5.4.24.orig/drivers/spi/Kconfig
+++ linux-5.4.24/drivers/spi/Kconfig
@@ -574,6 +574,12 @@ config SPI_RSPI
 	help
 	  SPI driver for Renesas RSPI and QSPI blocks.
 
+config SPI_RTK_RTL838X
+	tristate "Realtek RTL838x SPI controller"
+	depends on RTL838X
+	help
+	  SPI driver for Realtek RTL838x series.
+
 config SPI_QCOM_QSPI
 	tristate "QTI QSPI controller"
 	depends on ARCH_QCOM
Index: linux-5.4.24/drivers/spi/Makefile
===================================================================
--- linux-5.4.24.orig/drivers/spi/Makefile
+++ linux-5.4.24/drivers/spi/Makefile
@@ -87,6 +87,7 @@ obj-$(CONFIG_SPI_QUP)			+= spi-qup.o
 obj-$(CONFIG_SPI_ROCKCHIP)		+= spi-rockchip.o
 obj-$(CONFIG_SPI_RB4XX)			+= spi-rb4xx.o
 obj-$(CONFIG_SPI_RSPI)			+= spi-rspi.o
+obj-$(CONFIG_SPI_RTK_RTL838X)		+= spi-rtl838x.o
 obj-$(CONFIG_SPI_S3C24XX)		+= spi-s3c24xx-hw.o
 spi-s3c24xx-hw-y			:= spi-s3c24xx.o
 spi-s3c24xx-hw-$(CONFIG_SPI_S3C24XX_FIQ) += spi-s3c24xx-fiq.o
